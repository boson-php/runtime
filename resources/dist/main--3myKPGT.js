var A=r=>{throw TypeError(r)};var R=(r,e,t)=>e.has(r)||A("Cannot "+t);var s=(r,e,t)=>(R(r,e,"read from private field"),t?t.call(r):e.get(r)),n=(r,e,t)=>e.has(r)?A("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),d=(r,e,t,o)=>(R(r,e,"write to private field"),o?o.call(r,t):e.set(r,t),t),i=(r,e,t)=>(R(r,e,"access private method"),t);var a;class W{constructor(){n(this,a,{})}get(e){let t=s(this,a)[e];if(t instanceof WeakRef){let o=t.deref();if(o instanceof HTMLElement)return o;delete s(this,a)[e]}}detach(e){s(this,a)[e]&&delete s(this,a)[e]}attach(e,t){s(this,a)[e]&&s(this,a)[e].deref()===t||(s(this,a)[e]=new WeakRef(t))}}a=new WeakMap;const H=16;var E,B;class L{constructor(){n(this,E)}generate(e=H){return Array.from(this.generateByteArray(e)).map(i(this,E,B)).join("")}}E=new WeakSet,B=function(e){return e.toString(16).padStart(2,"0")};var u,h,S;const C=class C extends L{constructor(t){super();n(this,u);d(this,u,t||function(){throw new Error("Could not load client cryptographic library")}())}static createFromGlobals(){return new C(i(this,h,S).call(this))}static isSupported(){return!!i(this,h,S).call(this)}generateByteArray(t){return s(this,u).getRandomValues(new Uint8Array(t))}};u=new WeakMap,h=new WeakSet,S=function(){return window.crypto||window.msCrypto||window.msrCrypto||void 0},n(C,h);let F=C;class U{static createFromGlobals(){if(F.isSupported())return F.createFromGlobals();throw new Error("Can not select suitable ID generator")}}var l,b,m,c,P,j;class k{constructor(e,t){n(this,c);n(this,l,{});n(this,b);n(this,m);d(this,m,e),d(this,b,t)}resolve(e,t){var o;t instanceof Promise?t.then(w=>this.resolve(e,w)).catch(w=>this.reject(e,w)):(o=i(this,c,P).call(this,e))==null||o.resolve(t)}reject(e,t){var o;(o=i(this,c,P).call(this,e))==null||o.reject(t)}call(e,t){const o=s(this,b).generate(),w=i(this,c,j).call(this,o);return s(this,m).send(JSON.stringify({id:o,method:e,params:t})),w}}l=new WeakMap,b=new WeakMap,m=new WeakMap,c=new WeakSet,P=function(e){const t=s(this,l)[e]??null;try{return t}finally{t!==null&&delete s(this,l)[e]}},j=function(e){return new Promise((t,o)=>s(this,l)[e]={resolve:t,reject:o})};var p;class D{constructor(e){n(this,p);d(this,p,e??function(){throw new Error("Unsupported transport")}())}send(e){s(this,p).call(this,e)}}p=new WeakMap;var f,v;const x=class x extends D{static createFromGlobals(){return new x(i(this,f,v).call(this))}static isSupported(){return!!i(this,f,v).call(this)}};f=new WeakSet,v=function(){var e,t;return(t=(e=window.chrome)==null?void 0:e.webview)==null?void 0:t.postMessage},n(x,f);let G=x;var y,z;const I=class I extends D{static createFromGlobals(){return new I(i(this,y,z).call(this))}static isSupported(){return!!i(this,y,z).call(this)}};y=new WeakSet,z=function(){var e,t;return(t=(e=window.saucer)==null?void 0:e.internal)==null?void 0:t.send_message},n(I,y);let g=I;class N{static createFromGlobals(){if(G.isSupported())return G.createFromGlobals();if(g.isSupported())return g.createFromGlobals();throw new Error("Can not select suitable IPC transport")}}window.boson=window.boson||{};try{window.boson.io=N.createFromGlobals()}catch(r){console.error("Failed to initialize IPC subsystem",r)}try{window.boson.ids=U.createFromGlobals()}catch(r){console.error("Failed to initialize ID generator subsystem",r)}try{if(!window.boson.io||!window.boson.ids)throw new Error("Could not initialize RPC: Requires IPC and ID generator subsystems");window.boson.rpc=new k(window.boson.io,window.boson.ids)}catch(r){console.error("Failed to initialize RPC subsystem",r)}window.boson.components=window.boson.components||{};try{window.boson.components.instances=new W}catch(r){console.error("Failed to initialize Web Components subsystem",r)}
